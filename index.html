<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Tracker v2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.292.0"
        }
    }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .animate-fade-in { animation: fadeIn 0.2s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        /* Custom scrollbar for table */
        .custom-scroll::-webkit-scrollbar { height: 8px; width: 8px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 h-screen overflow-hidden flex flex-col">
    <div id="root" class="h-full flex flex-col"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useMemo } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Server, AlertCircle, CheckCircle, Activity, Search, Plus, Trash2, Edit2, 
            ArrowRight, RotateCcw, AlertTriangle, Copy, CheckSquare, Square, X, 
            LayoutGrid, List, MoreHorizontal, Filter 
        } from 'lucide-react';

        // --- UTILS ---
        const copyToClipboard = (text) => {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.left = "-9999px";
            document.body.appendChild(textArea);
            textArea.select();
            try { document.execCommand('copy'); return true; } 
            catch (err) { return false; } 
            finally { document.body.removeChild(textArea); }
        };

        // --- DATA ---
        const INITIAL_DATA = [
            { id: 'sl2149', provider: 'OVH.pt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2151', provider: 'OVH.pt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2156', provider: 'OVH.pt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2157', provider: 'OVH.pt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2168', provider: 'OVH.pt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2169', provider: 'OVH.pt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2170', provider: 'Ovh.pt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2199', provider: 'Silkhostt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2216', provider: 'Ovh.pt (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2238', provider: 'vertichost (OVH)', category: 'Production', status: 'Active' },
            { id: 'sl2201', provider: 'Blue Vps (box 134)', category: 'Production', status: 'Active' },
            { id: 'sl2137', provider: 'Webdesignlabs (hetzner)', category: 'Production', status: 'Active' },
            { id: 'sl2106', provider: 'vertichost (OVH)', category: 'Issues', status: 'Timed out' },
            { id: 'sl2150', provider: 'Ovh.pt (OVH)', category: 'Issues', status: 'Timed out' },
            { id: 'sl2184', provider: 'OVH.pt (OVH)', category: 'Issues', status: 'Timed out' },
            { id: 'sl2217', provider: 'OVH.pt (OVH)', category: 'Issues', status: 'Timed out' },
            { id: 'sl2218', provider: 'Ovh.pt (OVH)', category: 'Issues', status: 'Timed out' },
            { id: 'sl2219', provider: 'Ovh.pt (OVH)', category: 'Issues', status: 'Timed out' },
            { id: 'sl2235', provider: 'Thomashost (OVH)', category: 'Issues', status: 'Down' },
            { id: 'sl2236', provider: 'Tvmserver (OVH)', category: 'Issues', status: 'Timed out' },
            { id: 'sl2162', provider: '3v-Host (others)', category: 'Others', status: 'Active' },
            { id: 'sl2209', provider: 'Holhost (others)', category: 'Others', status: 'Active' },
            { id: 'sl2211', provider: 'vikhost (others)', category: 'Others', status: 'To Return' },
            { id: 'sl2213', provider: 'Vpsgod (others)', category: 'Others', status: 'To Return' },
            { id: 'sl2215', provider: 'Tvmserver (others)', category: 'Others', status: 'Active' },
            { id: 'sl2220', provider: 'Freakhosting.com (others)', category: 'Others', status: 'Active' },
            { id: 'sl1960', provider: 'Geckohost', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2181', provider: 'Lease Web', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2185', provider: 'Lease Web', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2192', provider: 'Ex2', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2195', provider: 'coretek.host', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2155', provider: 'Ovh.pt', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl1538', provider: 'Scaleway', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2023', provider: 'Scaleway', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl1963', provider: '1and1', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2183', provider: 'Hetzner (Webdesignlabs)', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2160', provider: 'Hetzner (Storage-Vps)', category: 'Low Delivery', status: 'Low Delivery' },
            { id: 'sl2079', provider: 'domainesia', category: 'To Return', status: 'To Return' },
            { id: 'sl2147', provider: 'Ovh.pt (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2221', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2222', provider: 'Ovh.pt (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2223', provider: 'Ovh.pt (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2224', provider: 'Ovh.pt (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2226', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2227', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2228', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2229', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2230', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2231', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2232', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2233', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
            { id: 'sl2234', provider: 'OVH (OVH)', category: 'To Return', status: 'To Return' },
        ];

        const CATEGORIES = [
            { key: 'Production', label: 'Production', color: 'text-emerald-600', bg: 'bg-emerald-50', border: 'border-emerald-200', icon: CheckCircle },
            { key: 'Issues', label: 'Issues', color: 'text-rose-600', bg: 'bg-rose-50', border: 'border-rose-200', icon: AlertCircle },
            { key: 'Others', label: 'Others', color: 'text-blue-600', bg: 'bg-blue-50', border: 'border-blue-200', icon: Server },
            { key: 'Low Delivery', label: 'Low Delivery', color: 'text-amber-600', bg: 'bg-amber-50', border: 'border-amber-200', icon: AlertTriangle },
            { key: 'To Return', label: 'To Return', color: 'text-slate-600', bg: 'bg-slate-50', border: 'border-slate-200', icon: RotateCcw },
        ];

        function App() {
            // State
            const [servers, setServers] = useState(() => JSON.parse(localStorage.getItem('serverTrackerData')) || INITIAL_DATA);
            const [selectedIds, setSelectedIds] = useState(new Set());
            const [searchQuery, setSearchQuery] = useState('');
            const [activeTab, setActiveTab] = useState('ALL');
            const [viewMode, setViewMode] = useState('list'); // 'grid' or 'list'
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [editingServer, setEditingServer] = useState(null);
            
            // Form Data
            const [formData, setFormData] = useState({ id: '', provider: '', category: 'Production', status: 'Active' });

            // Effects & Memo
            useEffect(() => localStorage.setItem('serverTrackerData', JSON.stringify(servers)), [servers]);

            const filteredServers = useMemo(() => {
                let data = servers;
                if (activeTab !== 'ALL') {
                    data = data.filter(s => s.category === activeTab);
                }
                if (searchQuery) {
                    const q = searchQuery.toLowerCase();
                    data = data.filter(s => s.id.toLowerCase().includes(q) || s.provider.toLowerCase().includes(q));
                }
                return data;
            }, [servers, activeTab, searchQuery]);

            // Handlers
            const handleSelection = (id) => {
                const newSet = new Set(selectedIds);
                newSet.has(id) ? newSet.delete(id) : newSet.add(id);
                setSelectedIds(newSet);
            };

            const toggleAllInView = () => {
                const allIds = filteredServers.map(s => s.id);
                const allSelected = allIds.every(id => selectedIds.has(id));
                const newSet = new Set(selectedIds);
                if (allSelected) {
                    allIds.forEach(id => newSet.delete(id));
                } else {
                    allIds.forEach(id => newSet.add(id));
                }
                setSelectedIds(newSet);
            };

            const handleMove = (id, cat) => {
                setServers(prev => prev.map(s => s.id === id ? {...s, category: cat} : s));
            };

            const handleBulkMove = (cat) => {
                setServers(prev => prev.map(s => selectedIds.has(s.id) ? {...s, category: cat} : s));
                setSelectedIds(new Set());
            };

            const handleSave = (e) => {
                e.preventDefault();
                if (editingServer) {
                    setServers(prev => prev.map(s => s.id === editingServer.id ? formData : s));
                } else {
                    if (servers.find(s => s.id === formData.id)) return alert('ID exists');
                    setServers(prev => [...prev, formData]);
                }
                setIsModalOpen(false);
            };

            const handleDelete = () => {
                if(!confirm(`Delete ${selectedIds.size} items?`)) return;
                setServers(prev => prev.filter(s => !selectedIds.has(s.id)));
                setSelectedIds(new Set());
            };
            
            const handleCopy = () => {
                const text = servers.filter(s => selectedIds.has(s.id)).map(s => `${s.id}\t${s.provider}`).join('\n');
                copyToClipboard(text);
                alert(`Copied ${selectedIds.size} servers`);
                setSelectedIds(new Set());
            }

            const openModal = (s = null) => {
                setEditingServer(s);
                setFormData(s || { id: '', provider: '', category: 'Production', status: 'Active' });
                setIsModalOpen(true);
            };

            // Components
            const StatusBadge = ({ status, category }) => {
                const colorClass = 
                    category === 'Issues' ? 'bg-rose-100 text-rose-700' :
                    category === 'Low Delivery' ? 'bg-amber-100 text-amber-700' :
                    category === 'Production' ? 'bg-emerald-100 text-emerald-700' :
                    'bg-slate-100 text-slate-600';
                
                return (
                    <span className={`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide ${colorClass}`}>
                        {status}
                    </span>
                );
            };

            const CatBadge = ({ cat }) => {
                const c = CATEGORIES.find(c => c.key === cat) || CATEGORIES[4];
                return (
                    <span className={`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium border ${c.bg} ${c.color} ${c.border}`}>
                        <div className={`w-1.5 h-1.5 rounded-full bg-current`} />
                        {c.label}
                    </span>
                );
            };

            return (
                <div className="flex flex-col h-full">
                    {/* Header */}
                    <header className="bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between shrink-0">
                        <div className="flex items-center gap-3">
                            <div className="bg-indigo-600 p-2 rounded-lg text-white"><Activity size={20} /></div>
                            <h1 className="text-xl font-bold text-slate-900">Server Tracker</h1>
                        </div>
                        <div className="flex items-center gap-4">
                            <div className="relative">
                                <Search className="absolute left-3 top-2.5 text-slate-400" size={16} />
                                <input 
                                    type="text" 
                                    placeholder="Search servers..." 
                                    value={searchQuery}
                                    onChange={e => setSearchQuery(e.target.value)}
                                    className="pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm w-64 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                />
                            </div>
                            <div className="h-8 w-px bg-slate-200"></div>
                            <button onClick={() => openModal()} className="flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                                <Plus size={16} /> Add Server
                            </button>
                        </div>
                    </header>

                    {/* Toolbar & Tabs */}
                    <div className="bg-white border-b border-slate-200 px-6 pt-2 shrink-0 flex flex-col gap-4">
                        <div className="flex items-center justify-between">
                            {/* Tabs */}
                            <div className="flex gap-1 overflow-x-auto pb-0 hide-scroll">
                                <button 
                                    onClick={() => setActiveTab('ALL')}
                                    className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${activeTab === 'ALL' ? 'border-indigo-600 text-indigo-600' : 'border-transparent text-slate-500 hover:text-slate-700'}`}
                                >
                                    All Servers <span className="ml-1 bg-slate-100 px-1.5 py-0.5 rounded-full text-xs text-slate-600">{servers.length}</span>
                                </button>
                                {CATEGORIES.map(cat => {
                                    const count = servers.filter(s => s.category === cat.key).length;
                                    const isActive = activeTab === cat.key;
                                    return (
                                        <button 
                                            key={cat.key} 
                                            onClick={() => setActiveTab(cat.key)}
                                            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap flex items-center gap-2 ${isActive ? `border-${cat.color.split('-')[1]}-600 ${cat.color}` : 'border-transparent text-slate-500 hover:text-slate-700'}`}
                                        >
                                            {cat.label} 
                                            <span className={`px-1.5 py-0.5 rounded-full text-xs ${isActive ? cat.bg : 'bg-slate-100 text-slate-600'}`}>{count}</span>
                                        </button>
                                    )
                                })}
                            </div>

                            {/* View Toggles */}
                            <div className="flex items-center bg-slate-100 p-1 rounded-lg ml-4">
                                <button 
                                    onClick={() => setViewMode('list')} 
                                    className={`p-1.5 rounded-md transition-all ${viewMode === 'list' ? 'bg-white shadow text-slate-800' : 'text-slate-400 hover:text-slate-600'}`}
                                    title="List View"
                                >
                                    <List size={18} />
                                </button>
                                <button 
                                    onClick={() => setViewMode('grid')} 
                                    className={`p-1.5 rounded-md transition-all ${viewMode === 'grid' ? 'bg-white shadow text-slate-800' : 'text-slate-400 hover:text-slate-600'}`}
                                    title="Grid View"
                                >
                                    <LayoutGrid size={18} />
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Main Content Area */}
                    <main className="flex-1 overflow-y-auto bg-slate-50 p-6 custom-scroll">
                        
                        {/* Bulk Actions Bar */}
                        {selectedIds.size > 0 && (
                            <div className="mb-4 bg-indigo-600 text-white rounded-lg px-4 py-3 flex items-center justify-between shadow-lg animate-fade-in">
                                <div className="flex items-center gap-3">
                                    <span className="font-bold bg-white/20 px-2 py-0.5 rounded">{selectedIds.size} Selected</span>
                                    <button onClick={() => setSelectedIds(new Set())} className="text-indigo-100 hover:text-white text-sm underline">Clear</button>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="relative group">
                                        <button className="flex items-center gap-2 bg-indigo-700 hover:bg-indigo-800 px-3 py-1.5 rounded text-sm transition-colors">
                                            Move to...
                                        </button>
                                        <div className="absolute bottom-full right-0 mb-2 w-48 bg-white rounded-lg shadow-xl py-1 text-slate-800 hidden group-hover:block border border-slate-100 z-10">
                                            {CATEGORIES.map(c => (
                                                <button key={c.key} onClick={() => handleBulkMove(c.key)} className="w-full text-left px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2">
                                                    <div className={`w-2 h-2 rounded-full bg-${c.color.split('-')[1]}-500`}></div>
                                                    {c.label}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                    <button onClick={handleCopy} className="flex items-center gap-2 bg-indigo-700 hover:bg-indigo-800 px-3 py-1.5 rounded text-sm transition-colors">
                                        <Copy size={14} /> Copy
                                    </button>
                                    <button onClick={handleDelete} className="flex items-center gap-2 bg-rose-600 hover:bg-rose-700 px-3 py-1.5 rounded text-sm transition-colors ml-2">
                                        <Trash2 size={14} /> Delete
                                    </button>
                                </div>
                            </div>
                        )}

                        {viewMode === 'list' ? (
                            <div className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                                <table className="w-full text-left text-sm">
                                    <thead className="bg-slate-50 border-b border-slate-200 text-slate-500 font-medium">
                                        <tr>
                                            <th className="px-4 py-3 w-10">
                                                <button onClick={toggleAllInView} className="hover:text-indigo-600">
                                                    {filteredServers.length > 0 && filteredServers.every(s => selectedIds.has(s.id)) ? <CheckSquare size={18} /> : <Square size={18} />}
                                                </button>
                                            </th>
                                            <th className="px-4 py-3">Server ID</th>
                                            <th className="px-4 py-3">Provider</th>
                                            <th className="px-4 py-3">Category</th>
                                            <th className="px-4 py-3">Status</th>
                                            <th className="px-4 py-3 text-right">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-slate-100">
                                        {filteredServers.map(server => (
                                            <tr key={server.id} className={`hover:bg-slate-50 transition-colors group ${selectedIds.has(server.id) ? 'bg-indigo-50/50' : ''}`}>
                                                <td className="px-4 py-3">
                                                    <button onClick={() => handleSelection(server.id)} className={`text-slate-400 hover:text-indigo-600 ${selectedIds.has(server.id) ? 'text-indigo-600' : ''}`}>
                                                        {selectedIds.has(server.id) ? <CheckSquare size={18} /> : <Square size={18} />}
                                                    </button>
                                                </td>
                                                <td className="px-4 py-3 font-mono font-medium text-slate-700">{server.id}</td>
                                                <td className="px-4 py-3 text-slate-600">{server.provider}</td>
                                                <td className="px-4 py-3"><CatBadge cat={server.category} /></td>
                                                <td className="px-4 py-3"><StatusBadge status={server.status} category={server.category} /></td>
                                                <td className="px-4 py-3 text-right">
                                                    <div className="flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
                                                        <button onClick={() => openModal(server)} className="p-1.5 hover:bg-slate-200 rounded text-slate-500"><Edit2 size={14} /></button>
                                                        
                                                        {/* Quick Move Dropdown */}
                                                        <div className="relative group/move">
                                                            <button className="p-1.5 hover:bg-slate-200 rounded text-slate-500"><ArrowRight size={14} /></button>
                                                            <div className="absolute right-0 top-full mt-1 w-40 bg-white rounded-lg shadow-xl py-1 border border-slate-100 hidden group-hover/move:block z-20 text-left">
                                                                {CATEGORIES.filter(c => c.key !== server.category).map(c => (
                                                                    <button key={c.key} onClick={() => handleMove(server.id, c.key)} className="w-full text-left px-3 py-2 text-xs hover:bg-slate-50 text-slate-700">
                                                                        Move to {c.label}
                                                                    </button>
                                                                ))}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        ))}
                                        {filteredServers.length === 0 && (
                                            <tr><td colSpan="6" className="text-center py-12 text-slate-400">No servers found</td></tr>
                                        )}
                                    </tbody>
                                </table>
                            </div>
                        ) : (
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                                {filteredServers.map(server => (
                                    <div 
                                        key={server.id}
                                        onClick={(e) => { if(!e.target.closest('button')) handleSelection(server.id); }}
                                        className={`bg-white p-4 rounded-xl border shadow-sm hover:shadow-md transition-all cursor-pointer group relative ${selectedIds.has(server.id) ? 'ring-2 ring-indigo-500 border-indigo-500' : 'border-slate-200'}`}
                                    >
                                        <div className="flex justify-between items-start mb-3">
                                            <div className="flex items-center gap-2">
                                                <button onClick={(e) => { e.stopPropagation(); handleSelection(server.id); }}>
                                                     {selectedIds.has(server.id) ? <CheckSquare size={18} className="text-indigo-600" /> : <Square size={18} className="text-slate-300 hover:text-indigo-600" />}
                                                </button>
                                                <span className="font-mono font-bold text-slate-800 bg-slate-100 px-2 py-0.5 rounded text-sm">{server.id}</span>
                                            </div>
                                            <div className="opacity-0 group-hover:opacity-100 transition-opacity">
                                                 <button onClick={(e) => {e.stopPropagation(); openModal(server)}} className="text-slate-400 hover:text-indigo-600"><Edit2 size={16} /></button>
                                            </div>
                                        </div>
                                        <div className="mb-4">
                                            <div className="text-sm font-medium text-slate-900 truncate" title={server.provider}>{server.provider}</div>
                                            <div className="text-xs text-slate-500 mt-1 flex items-center gap-2">
                                                <span className={`w-2 h-2 rounded-full bg-${CATEGORIES.find(c => c.key === server.category)?.color.split('-')[1]}-500`}></span>
                                                {server.category}
                                            </div>
                                        </div>
                                        <div className="flex items-center justify-between border-t border-slate-50 pt-3">
                                            <StatusBadge status={server.status} category={server.category} />
                                            
                                            <div className="relative group/cardmove">
                                                <button className="text-xs font-medium text-slate-400 hover:text-indigo-600 flex items-center gap-1">
                                                    MOVE <ArrowRight size={12} />
                                                </button>
                                                <div className="absolute right-0 bottom-full mb-2 w-36 bg-white rounded-lg shadow-xl py-1 border border-slate-100 hidden group-hover/cardmove:block z-20">
                                                    {CATEGORIES.filter(c => c.key !== server.category).map(c => (
                                                        <button key={c.key} onClick={(e) => { e.stopPropagation(); handleMove(server.id, c.key); }} className="w-full text-left px-3 py-2 text-xs hover:bg-slate-50 text-slate-700">
                                                            {c.label}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </main>

                    {/* Modal */}
                    {isModalOpen && (
                        <div className="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-xl shadow-2xl w-full max-w-md p-6">
                                <div className="flex justify-between items-center mb-6">
                                    <h3 className="text-lg font-bold">{editingServer ? 'Edit Server' : 'Add Server'}</h3>
                                    <button onClick={() => setIsModalOpen(false)}><X className="text-slate-400 hover:text-slate-600" /></button>
                                </div>
                                <form onSubmit={handleSave} className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">ID</label>
                                        <input required className="w-full border rounded-lg p-2.5 font-mono text-sm" value={formData.id} onChange={e => setFormData({...formData, id: e.target.value})} />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Provider</label>
                                        <input required className="w-full border rounded-lg p-2.5 text-sm" value={formData.provider} onChange={e => setFormData({...formData, provider: e.target.value})} />
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium mb-1">Category</label>
                                            <select className="w-full border rounded-lg p-2.5 text-sm" value={formData.category} onChange={e => setFormData({...formData, category: e.target.value})}>
                                                {CATEGORIES.map(c => <option key={c.key} value={c.key}>{c.label}</option>)}
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium mb-1">Status</label>
                                            <input className="w-full border rounded-lg p-2.5 text-sm" value={formData.status} onChange={e => setFormData({...formData, status: e.target.value})} />
                                        </div>
                                    </div>
                                    <div className="pt-4 flex justify-end gap-2">
                                        <button type="button" onClick={() => setIsModalOpen(false)} className="px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg">Cancel</button>
                                        <button type="submit" className="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">Save</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
